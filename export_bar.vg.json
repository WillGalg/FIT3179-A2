{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "width":625,
    "height": 500,
    "data": {"url": "https://raw.githubusercontent.com/WillGalg/FIT3179-A2/main/js/ICO Dataset.csv"},
    "params":[
        {
        "name": "Export_Region",
        "bind":{
            "input": "select",
            "options": [null,"Central America & Mexico",
                "Angola",
                "Bolivia",
                "Brazil",
                "Burundi",
                "CÃ´te d'Ivoire",
                "Cameroon",
                "Central African Republic",
                "Colombia",
                "Costa Rica",
                "Cuba",
                "Democratic Republic of Congo",
                "Dominican Republic",
                "Ecuador",
                "El Salvador",
                "Ethiopia",
                "Ghana",
                "Guatemala",
                "Guinea",
                "Guyana",
                "Haiti",
                "Honduras",
                "India",
                "Indonesia",
                "Jamaica",
                "Kenya",
                "Lao People's Democratic Republic",
                "Liberia",
                "Madagascar",
                "Malawi",
                "Nepal",
                "Nicaragua",
                "Nigeria",
                "Panama",
                "Papua New Guinea",
                "Paraguay",
                "Peru",
                "Philippines",
                "Rwanda",
                "Sierra Leone",
                "Sri Lanka",
                "Tanzania",
                "Thailand",
                "Timor-Leste",
                "Togo",
                "Trinidad & Tobago",
                "Uganda",
                "Venezuela",
                "Viet Nam",
                "Yemen",
                "Zambia",
                "Zimbabwe"
                ],
            "labels": ["Show All",
                "Central America & Mexico",
                "Angola",
                "Bolivia",
                "Brazil",
                "Burundi",
                "CÃ´te d'Ivoire",
                "Cameroon",
                "Central African Republic",
                "Colombia",
                "Costa Rica",
                "Cuba",
                "Democratic Republic of Congo",
                "Dominican Republic",
                "Ecuador",
                "El Salvador",
                "Ethiopia",
                "Ghana",
                "Guatemala",
                "Guinea",
                "Guyana",
                "Haiti",
                "Honduras",
                "India",
                "Indonesia",
                "Jamaica",
                "Kenya",
                "Lao People's Democratic Republic",
                "Liberia",
                "Madagascar",
                "Malawi",
                "Nepal",
                "Nicaragua",
                "Nigeria",
                "Panama",
                "Papua New Guinea",
                "Paraguay",
                "Peru",
                "Philippines",
                "Rwanda",
                "Sierra Leone",
                "Sri Lanka",
                "Tanzania",
                "Thailand",
                "Timor-Leste",
                "Togo",
                "Trinidad & Tobago",
                "Uganda",
                "Venezuela",
                "Viet Nam",
                "Yemen",
                "Zambia",
                "Zimbabwe"
                ],
            "name": "View a single region with exports: "}
        },
        {
        "name": "Year_Select",
        "value": 2014,
        "bind":{
            "input": "range",
            "min": 2014,
            "max": 2018,
            "step":1,
            "name": "Year Slicer: "}
    },
    {
        "name": "number_range",
        "value": 1000,
        "bind":{
            "input": "range",
            "min": 0,
            "max": 30000,
            "step":1,
            "name": "Export numbers above: "}
    }
],   
    "transform": [
        {"filter":"Export_Region == null || datum.Country == Export_Region"},
        {"filter":"datum.Year == Year_Select"},
        {"filter":"datum.exports > number_range"}
    ],
    "mark": "bar",
    "encoding": {
      "x": {"field": "Country", "type": "nominal",
      "sort":{"field":"exports","op":"mean","order":"descending"}
    },
      "y": {"field":"exports", "type": "quantitative"},
      "color":{"value":"#462e25"}
    }
  }