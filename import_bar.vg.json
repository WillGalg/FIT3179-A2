{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "width":400,
    "height": 500,
    "data": {"url": "https://raw.githubusercontent.com/WillGalg/FIT3179-A2/main/js/imports.csv"},
    "params":[
        {
        "name": "Import_Region",
        "bind":{
            "input": "select",
            "options": [null,"Austria",
                "Belgium",
                "Belgium/Luxembourg",
                "Bulgaria",
                "Croatia",
                "Cyprus",
                "Czech Republic",
                "Denmark",
                "Estonia",
                "Finland",
                "France",
                "Germany",
                "Greece",
                "Hungary",
                "Ireland",
                "Italy",
                "Latvia",
                "Lithuania",
                "Luxembourg",
                "Malta",
                "Netherlands",
                "Poland",
                "Portugal",
                "Romania",
                "Slovakia",
                "Slovenia",
                "Spain",
                "Sweden",
                "United Kingdom",
                "Japan",
                "Norway",
                "Russian Federation",
                "Switzerland",
                "Tunisia",
                "USA",
                "Africa",
                "Algeria",
                "Botswana",
                "Burkina Faso",
                "Cape Verde",
                "Chad",
                "Comoros",
                "Djibouti",
                "Egypt",
                "Eswatini",
                "Gambia",
                "Guinea-Bissau",
                "Lesotho",
                "Libya",
                "Mali",
                "Mauritania",
                "Mauritius",
                "Morocco",
                "Mozambique",
                "Namibia",
                "Niger",
                "Sao Tome and Principe",
                "Senegal",
                "Seychelles",
                "Somalia",
                "South Africa, Rep.of",
                "Sudan",
                "Asia & Oceania",
                "Afghanistan",
                "Armenia",
                "Australia",
                "Azerbaijan",
                "Bahrain",
                "Bangladesh",
                "Brunei Darussalam",
                "Cambodia",
                "China, People's Republic of",
                "China (Mainland)",
                "Hong Kong",
                "Macao",
                "Cook Islands",
                "Fiji",
                "Iran, Islamic Rep. of",
                "Iraq",
                "Israel",
                "Jordan",
                "Kazakhstan",
                "Kiribati",
                "Korea, Dem. People's Rep. of",
                "Korea, Rep. of",
                "Kuwait",
                "Kyrgyz Republic",
                "Lebanon",
                "Malaysia",
                "Micronesia, Fed. States of",
                "Mongolia",
                "Myanmar",
                "New Zealand",
                "Oman",
                "Pakistan",
                "Qatar",
                "Samoa",
                "Saudi Arabia",
                "Singapore",
                "Solomon Islands",
                "Syrian Arab Republic",
                "Taiwan",
                "Tonga",
                "Turkey",
                "United Arab Emirates",
                "Vanuatu",
                "Caribbean",
                "Anguilla",
                "Antigua and Barbuda",
                "Aruba",
                "Bahamas",
                "Barbados",
                "Cayman Islands",
                "Dominica",
                "Grenada",
                "Montserrat",
                "Netherlands Antilles",
                "Puerto Rico",
                "Saint Kitts and Nevis",
                "Saint Lucia",
                "Saint Vincent & the Grenadines",
                "Virgin Islands (UK)",
                "Central America & Mexico",
                "Belize",
                "Bermuda",
                "Europe",
                "Albania",
                "Belarus",
                "Bosnia and Herzegovina",
                "Georgia",
                "Gibraltar",
                "Holy See",
                "Iceland",
                "Moldova",
                "Montenegro",
                "North Macedonia",
                "Serbia",
                "Ukraine",
                "USSR",
                "Yugoslavia",
                "North America",
                "Canada",
                "South America",
                "Argentina",
                "Chile",
                "Suriname",
                "Uruguay"
                ],
            "labels": ["Show All","Austria",
                "Belgium",
                "Belgium/Luxembourg",
                "Bulgaria",
                "Croatia",
                "Cyprus",
                "Czech Republic",
                "Denmark",
                "Estonia",
                "Finland",
                "France",
                "Germany",
                "Greece",
                "Hungary",
                "Ireland",
                "Italy",
                "Latvia",
                "Lithuania",
                "Luxembourg",
                "Malta",
                "Netherlands",
                "Poland",
                "Portugal",
                "Romania",
                "Slovakia",
                "Slovenia",
                "Spain",
                "Sweden",
                "United Kingdom",
                "Japan",
                "Norway",
                "Russian Federation",
                "Switzerland",
                "Tunisia",
                "USA",
                "Africa",
                "Algeria",
                "Botswana",
                "Burkina Faso",
                "Cape Verde",
                "Chad",
                "Comoros",
                "Djibouti",
                "Egypt",
                "Eswatini",
                "Gambia",
                "Guinea-Bissau",
                "Lesotho",
                "Libya",
                "Mali",
                "Mauritania",
                "Mauritius",
                "Morocco",
                "Mozambique",
                "Namibia",
                "Niger",
                "Sao Tome and Principe",
                "Senegal",
                "Seychelles",
                "Somalia",
                "South Africa, Rep.of",
                "Sudan",
                "Asia & Oceania",
                "Afghanistan",
                "Armenia",
                "Australia",
                "Azerbaijan",
                "Bahrain",
                "Bangladesh",
                "Brunei Darussalam",
                "Cambodia",
                "China, People's Republic of",
                "China (Mainland)",
                "Hong Kong",
                "Macao",
                "Cook Islands",
                "Fiji",
                "Iran, Islamic Rep. of",
                "Iraq",
                "Israel",
                "Jordan",
                "Kazakhstan",
                "Kiribati",
                "Korea, Dem. People's Rep. of",
                "Korea, Rep. of",
                "Kuwait",
                "Kyrgyz Republic",
                "Lebanon",
                "Malaysia",
                "Micronesia, Fed. States of",
                "Mongolia",
                "Myanmar",
                "New Zealand",
                "Oman",
                "Pakistan",
                "Qatar",
                "Samoa",
                "Saudi Arabia",
                "Singapore",
                "Solomon Islands",
                "Syrian Arab Republic",
                "Taiwan",
                "Tonga",
                "Turkey",
                "United Arab Emirates",
                "Vanuatu",
                "Caribbean",
                "Anguilla",
                "Antigua and Barbuda",
                "Aruba",
                "Bahamas",
                "Barbados",
                "Cayman Islands",
                "Dominica",
                "Grenada",
                "Montserrat",
                "Netherlands Antilles",
                "Puerto Rico",
                "Saint Kitts and Nevis",
                "Saint Lucia",
                "Saint Vincent & the Grenadines",
                "Virgin Islands (UK)",
                "Central America & Mexico",
                "Belize",
                "Bermuda",
                "Europe",
                "Albania",
                "Belarus",
                "Bosnia and Herzegovina",
                "Georgia",
                "Gibraltar",
                "Holy See",
                "Iceland",
                "Moldova",
                "Montenegro",
                "North Macedonia",
                "Serbia",
                "Ukraine",
                "USSR",
                "Yugoslavia",
                "North America",
                "Canada",
                "South America",
                "Argentina",
                "Chile",
                "Suriname",
                "Uruguay"
                ],
            "name": "View a single region: "}
        },
        {
        "name": "Year_Select",
        "value": 2014,
        "bind":{
            "input": "range",
            "min": 2014,
            "max": 2018,
            "step":1,
            "name": "Year Slicer: "}
    },
    {
        "name": "number_range",
        "value": 1000,
        "bind":{
            "input": "range",
            "min": 0,
            "max": 30000,
            "step":1000,
            "name": "Import numbers above: "}
    }
],   
    "transform": [
        {"filter":"Import_Region == null || datum.imports == Import_Region"},
        {"filter":"datum.year == Year_Select"},
        {"filter":"datum.number > number_range"}
    ],
    "mark": "bar",
    "encoding": {
      "x": {"field": "imports", "type": "nominal",
      "sort":{"field":"number","op":"mean","order":"descending"}
    },
      "y": {"field":"number", "type": "quantitative"}
    }
  }